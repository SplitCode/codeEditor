<div class="code-editor">
    <div class="code-editor__container">
        <h4 class="code-editor__title">
            <tui-marker-icon
                mode="primary"
                new
                size="xxs"
                src="tuiIconCodeLarge"
            ></tui-marker-icon>
            Код
        </h4>

        <form class="code-editor__form" [formGroup]="formGroup">
            <tui-select
                formControlName="language"
                tuiTextfieldSize="m"
                [tuiTextfieldLabelOutside]="true"
                [readOnly]="loading()"
            >
                <tui-data-list-wrapper
                    *tuiDataList
                    [items]="languages"
                ></tui-data-list-wrapper>
            </tui-select>
        </form>

        <ngx-monaco-editor
            style="height: 100%"
            [options]="editorOptions"
            [(ngModel)]="code"
        >
        </ngx-monaco-editor>

        <div class="code-editor__buttons">
            <button
                tuiButton
                type="button"
                appearance="primary"
                size="m"
                (click)="runCode()"
                [showLoader]="loading()"
                [disabled]="loading()"
            >
                Старт
            </button>

            <button
                tuiButton
                type="button"
                appearance="secondary"
                size="m"
                (click)="cleanCode()"
                [showLoader]="loading()"
                [disabled]="loading()"
            >
                Сброс
            </button>
        </div>
    </div>

    <div class="code-editor__message-container">
        <h4 class="code-editor__title">
            <tui-marker-icon
                mode="primary"
                new
                size="xxs"
                src="tuiIconCheckSquareLarge"
            ></tui-marker-icon>
            Результат
        </h4>

        <div *ngIf="error" class="code-editor__error-message">
            <h3>{{ status }}:</h3>
            <pre>{{ error }}</pre>
        </div>

        <div *ngIf="output" class="code-editor__output">
            <h3>{{ status }}:</h3>
            <pre>{{ output }}</pre>
        </div>

        <div class="code-editor__footer"></div>
    </div>
</div>
